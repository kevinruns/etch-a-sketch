<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="styler.css">
</head>

<body>


    <button id='reset'>Reset Grid</button>

    <div id='container'>
    </div>


    <script>

        let container = document.querySelector('#container');

        let gridSize = 8;
        createGrid(gridSize, gridSize);
        let items = document.querySelectorAll('.grid-item');

        colorListener();


        function colorListener() {
            items.forEach(item => item.addEventListener('mouseenter', function (event) {
                event.target.style.backgroundColor = "red";
            }));
        }

        let reset = document.querySelector('button');

        reset.addEventListener('click', function () {
            items.forEach(item => item.style.backgroundColor = "white");
            gridSize = prompt("Size of new grid?");
            removeGrid();
            createGrid(gridSize, gridSize);
            items = document.querySelectorAll('.grid-item');
            colorListener();
        });


        function createGrid(rows, cols) {

            for (i = 0; i < rows; i++) {
                for (j = 0; j < cols; j++) {
                    let newItem = document.createElement('div');
                    newItem.classList.add('grid-item');
                    newItem.textContent = "";
                    container.appendChild(newItem);
                }
            }

            container.style.setProperty('--gridsize', rows);
        }


        function removeGrid() {
            let items = document.querySelectorAll('.grid-item');
            items.forEach(item => item.parentNode.removeChild(item));
        }


    </script>


</body>

</html>